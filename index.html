<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discord Webhook Trigger</title>
</head>
<body>
    <h1>Message Sent to Discord Webhook</h1>

    <script>
        // Function to get query parameters from URL
        function getQueryParams() {
            const params = {};
            const queryString = window.location.search.substring(1);
            const queryArray = queryString.split("&");
            queryArray.forEach(function(param) {
                const pair = param.split("=");
                params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
            });
            return params;
        }

        // Fetch the query parameters (e.g., ?message=Hello&username=PlayerName)
        const queryParams = getQueryParams();

        // Make sure that 'message' and 'username' are present in the URL
        if (queryParams.message && queryParams.username) {
            const message = queryParams.message;
            const username = queryParams.username;

            // Data to send to the Discord webhook
            const webhookData = {
                content: message,
                username: username
            };

            // Your Discord Webhook URL
            const webhookUrl = 'https://discord.com/api/webhooks/1297188572813725706/O-7SFoLOcMsYEWXmYngZ0CikE-Oxom6V6VyNjldzw5SFwgwKlKwhK3eno7Lu5ylVG6wT';

            // Send a POST request to the Discord webhook
            fetch(webhookUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(webhookData)
            })
            .then(response => {
                if (response.ok) {
                    console.log('Message sent successfully!');
                } else {
                    console.log('Error sending message.');
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
        } else {
            console.log('No message or username provided.');
        }
    </script>
</body>
</html>
